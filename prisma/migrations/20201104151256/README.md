# Migration `20201104151256`

This migration has been generated by Max Streitberger at 11/4/2020, 4:12:56 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Vote" ADD COLUMN "answer_id" text   NOT NULL 

ALTER TABLE "public"."Vote" ADD FOREIGN KEY("answer_id")REFERENCES "public"."SurveyAnswer"("answer_id") ON DELETE CASCADE ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201104150706..20201104151256
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model Event {
   event_id                String       @id @default(cuid())
@@ -103,18 +103,19 @@
   answer     String?
   created_at DateTime? @default(now())
   likes      Int?      @default(0)
   survey     Survey?   @relation(fields: [survey_id], references: [survey_id])
+  votes      Vote[]    
 }
 model Vote {
   user_id     String
   survey_id   String
   voted_at    DateTime?       @default(now())
   survey      Survey          @relation(fields: [survey_id], references: [survey_id])
   user        User            @relation(fields: [user_id], references: [user_id])
-  // answer_id   String
-  // answer      SurveyAnswer    @relation(fields: [answer_id], references: [answer_id])
+  answer_id   String
+  answer      SurveyAnswer    @relation(fields: [answer_id], references: [answer_id])
   @@id([survey_id, user_id])
 }
```


