# Migration `20201104123016`

This migration has been generated by Max Streitberger at 11/4/2020, 1:30:16 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql

```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201104094240..20201104123016
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model Event {
   event_id                String       @id @default(cuid())
@@ -22,27 +22,28 @@
   created_at              DateTime?    @default(now())
   host_id                 String?
   host                    User?        @relation(fields: [host_id], references: [user_id])
   tasks                   EventTask[]
+  surveys                 Survey[]
   guests                  User_Event[]
 }
 model User {
-  user_id                         String        @id @default(cuid())
-  first_name                      String?
-  last_name                       String?
-  username                        String?
-  email                           String?       @unique
-  password                        String?
-  role                            Role?
-  created_at                      DateTime?     @default(now())
-  last_login                      DateTime?     @default(now())
-  events                          Event[]
-  event_tasks                     EventTask[]
-  followed_by                     Friend[]      @relation("Friend_friend_idToUser")
-  friends                         Friend[]      @relation("Friend_following_user_idToUser")
-  private_tasks                   PrivateTask[]
-  joinedEvents                    User_Event[]
+  user_id       String        @id @default(cuid())
+  first_name    String?
+  last_name     String?
+  username      String?
+  email         String?       @unique
+  password      String?
+  role          Role?
+  created_at    DateTime?     @default(now())
+  last_login    DateTime?     @default(now())
+  events        Event[]
+  event_tasks   EventTask[]
+  friends       Friend[]      @relation("Friend_following_user_idToUser")
+  followed_by   Friend[]      @relation("Friend_friend_idToUser")
+  private_tasks PrivateTask[]
+  joinedEvents  User_Event[]
 }
 model User_Event {
   event_id  String
@@ -76,17 +77,25 @@
   created_by      User?     @relation(fields: [user_id], references: [user_id])
 }
 model Friend {
-  following_user_id             String
-  friend_id                     String
-  follows_since                 DateTime? @default(now())
-  friend                        User      @relation("Friend_friend_idToUser", fields: [friend_id], references: [user_id])
-  following_user                User      @relation("Friend_following_user_idToUser", fields: [following_user_id], references: [user_id])
+  follows_since     DateTime? @default(now())
+  following_user_id String
+  friend_id         String
+  following_user    User      @relation("Friend_following_user_idToUser", fields: [following_user_id], references: [user_id])
+  friend            User      @relation("Friend_friend_idToUser", fields: [friend_id], references: [user_id])
   @@id([friend_id, following_user_id])
 }
+model Survey {
+  survey_id  String    @id @default(cuid())
+  event_id   String?
+  question   String?
+  created_at DateTime? @default(now())
+  Event      Event?    @relation(fields: [event_id], references: [event_id])
+}
+
 enum EventType {
   LOCAL
   ONLINE
 }
```


