# Migration `20201104082310`

This migration has been generated by Max Streitberger at 11/4/2020, 9:23:10 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql

```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201029095607..20201104082310
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model Event {
   event_id                String       @id @default(cuid())
@@ -26,55 +26,67 @@
   guests                  User_Event[]
 }
 model User {
-  user_id             String            @id @default(cuid())
-  first_name          String?
-  last_name           String?
-  username            String?
-  email               String?           @unique
-  password            String?
-  role                Role?
-  created_at          DateTime?         @default(now())
-  last_login          DateTime?         @default(now())
-  events              Event[]
-  event_tasks         EventTask[]
-  private_tasks       PrivateTask[]
-  joinedEvents        User_Event[]
+  user_id                         String        @id @default(cuid())
+  first_name                      String?
+  last_name                       String?
+  username                        String?
+  email                           String?       @unique
+  password                        String?
+  role                            Role?
+  created_at                      DateTime?     @default(now())
+  last_login                      DateTime?     @default(now())
+  events                          Event[]
+  event_tasks                     EventTask[]
+  followed_by                     Friend[]      @relation("Friend_follower_idToUser")
+  is_following                    Friend[]      @relation("Friend_user_idToUser")
+  private_tasks                   PrivateTask[]
+  joinedEvents                    User_Event[]
 }
 model User_Event {
-  event_id    String
-  user_id     String
-  joined_at   DateTime?   @default(now())
-  event       Event       @relation(fields: [event_id], references: [event_id])
-  user        User        @relation(fields: [user_id], references: [user_id])
+  event_id  String
+  user_id   String
+  joined_at DateTime? @default(now())
+  event     Event     @relation(fields: [event_id], references: [event_id])
+  user      User      @relation(fields: [user_id], references: [user_id])
   @@id([event_id, user_id])
 }
 model EventTask {
-  event_task_id       String          @id @default(cuid())
-  event_id            String?
-  title               String?
-  description         String?
-  deadline            String?
-  created_at          DateTime?       @default(now())
-  user_id             String?
-  event               Event?          @relation(fields: [event_id], references: [event_id])
-  created_by          User?           @relation(fields: [user_id], references: [user_id])
+  event_id      String?
+  title         String?
+  description   String?
+  deadline      String?
+  created_at    DateTime? @default(now())
+  user_id       String?
+  event_task_id String    @id @default(cuid())
+  event         Event?    @relation(fields: [event_id], references: [event_id])
+  created_by    User?     @relation(fields: [user_id], references: [user_id])
 }
 model PrivateTask {
-  private_task_id           String          @id @default(cuid())
-  user_id                   String?
-  title                     String?
-  description               String?
-  deadline                  String?
-  created_at                DateTime?       @default(now())
-  created_by                User?           @relation(fields: [user_id], references: [user_id])
+  user_id         String?
+  title           String?
+  description     String?
+  deadline        String?
+  created_at      DateTime? @default(now())
+  private_task_id String    @id @default(cuid())
+  created_by      User?     @relation(fields: [user_id], references: [user_id])
 }
+model Friend {
+  user_id                       String
+  follower_id                   String
+  follows_since                 DateTime? @default(now())
+  follower                      User      @relation("Friend_follower_idToUser", fields: [follower_id], references: [user_id])
+  user                          User      @relation("Friend_user_idToUser", fields: [user_id], references: [user_id])
+
+  @@id([user_id, follower_id])
+}
+
 enum EventType {
   LOCAL
   ONLINE
 }
```


