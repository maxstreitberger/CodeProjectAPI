# Migration `20201104130011`

This migration has been generated by Max Streitberger at 11/4/2020, 2:00:11 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Vote" DROP CONSTRAINT "Vote_event_id_fkey"

ALTER TABLE "public"."Vote" DROP CONSTRAINT "Vote_survey_id_fkey"

ALTER TABLE "public"."Vote" DROP CONSTRAINT "Vote_user_id_fkey"

DROP TABLE "public"."Vote"
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201104125407..20201104130011
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model Event {
   event_id                String       @id @default(cuid())
@@ -87,13 +87,23 @@
   @@id([friend_id, following_user_id])
 }
 model Survey {
-  survey_id  String    @id @default(cuid())
-  event_id   String?
-  question   String?
+  survey_id    String         @id @default(cuid())
+  event_id     String?
+  question     String?
+  created_at   DateTime?      @default(now())
+  event        Event?         @relation(fields: [event_id], references: [event_id])
+  answers      SurveyAnswer[]
+}
+
+model SurveyAnswer {
+  answer_id  String    @id
+  survey_id  String?
+  answer     String?
   created_at DateTime? @default(now())
-  event      Event?    @relation(fields: [event_id], references: [event_id])
+  likes      Int?      @default(0)
+  survey     Survey?   @relation(fields: [survey_id], references: [survey_id])
 }
 enum EventType {
   LOCAL
```


